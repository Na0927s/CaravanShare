# CaravanShare 개발 일지 (요약)

### 0. 프로젝트 개요 (Project Overview)
- **프로젝트명:** CaravanShare (캠핑카/카라반 공유 플랫폼)
- **개발자:** Gemini CLI (대학교 2학년)
- **핵심 목표:** MVP(최소 기능 제품) 완성을 통한 바이브코딩 개발 역량 강화
- **기술 스택(Tech Stack):**
  - Frontend: React, TypeScript, Bootstrap
  - Backend: Node.js, Express, TypeScript
  - Database: JSON File System (Prototyping)
  - Tool: Gemini CLI, Git/GitHub, VS Code (WSL)

## Week1 (2025.11.10)
- 1주차: 초기 환경 구축 및 MVP 기반 마련
- 기간: 2025.11.10 ~ 2025.11.24

### 2025.11.13 (Day 1)
- **작업 내용:**
  1. **프로젝트 초기 설정**: Client(React), Server(Node.js) 프로젝트 구조 설정 및 `concurrently`를 이용한 동시 실행 환경 구축.
- **AI 활용:**
  1. Gemini CLI가 전체 프로젝트 구조를 설계하고, 초기 환경 설정을 위한 모든 명령어를 실행했습니다.

### 2025.11.14 (Day 2)
- **작업 내용:**
  1. **카라반 목록 및 사용자 인증 기능 구현**: 카라반 목록 조회 API와 페이지, 사용자 인증(회원가입, 로그인) API 및 프론트엔드 UI를 구현했습니다.
  2. **카라반 CRUD 기능 확장**: 호스트가 카라반 정보를 삭제하고 수정할 수 있는 백엔드 API와 프론트엔드 UI를 구현했습니다.
- **AI 활용:**
  1. 백엔드 API, 프론트엔드 UI 컴포넌트의 전체 코드를 생성하고, 경로 관련 에러 및 TypeScript 컴파일 오류를 해결했습니다.
  2. Git-flow에 기반한 브랜치 전략을 제안하고 실행했습니다.

### 2025.11.16 (Day 3)
- **작업 내용:**
  1. **예약 및 모의 결제 시스템 구현**: 카라반 등록, 예약 생성, 예약 관리(승인/거절), 가상 결제까지 이어지는 전체 예약 플로우를 구현했습니다.
  2. **리뷰 및 평점 시스템 구현**: 게스트가 예약 완료 건에 대해 리뷰와 평점을 남기고, 카라반 상세 페이지에서 이를 조회하는 기능을 구현했습니다.
  3. **백엔드 리팩토링 (DB 접근 중앙화)**: 컨트롤러에 중복되어 있던 파일 시스템 기반 DB 접근 로직을 `server/src/db/utils.ts`로 통합했습니다.
  4. **프론트엔드 리팩토링 (useFetch 훅 도입)**: 프론트엔드의 반복적인 API 호출 로직을 `useFetch` 커스텀 훅으로 추상화하여 코드 품질과 가독성을 높였습니다.
- **AI 활용:**
  1. 백엔드 모델, 컨트롤러, 라우트 및 프론트엔드 페이지/컴포넌트의 전체 코드를 생성 및 수정하고, 렌더링 오류를 해결했습니다.
  2. 백엔드 DB 접근 로직 중앙화 및 프론트엔드 `useFetch` 훅 도입을 제안하고 구현했습니다.

### 2025.11.20 (Day 4)
- **작업 내용:**
  1. **UI 현지화 및 오류 수정**: 클라이언트 애플리케이션의 모든 UI 텍스트를 한국어로 번역하고, `PaymentPage.tsx` 구문 오류 수정, `Reservation` 모델에 'cancelled' 상태를 추가했습니다.
  2. **라우팅 문제 해결 및 데이터 정리**: 클라이언트와 서버 간 라우팅 불일치로 인한 404 오류를 해결하고, 로그인/회원가입 엔드포인트를 수정했으며, 요청에 따라 데이터를 정리했습니다.
- **AI 활용:**
  1. 모든 UI 텍스트를 한국어로 번역하고, `PaymentPage.tsx` 오류 진단/수정, 모델 업데이트 및 데이터 삭제를 수행했습니다.
  2. 서버의 `userRoutes` 경로 수정, 클라이언트 API 호출 엔드포인트 업데이트, 데이터 정리를 지원했습니다.

### 2025.11.22 (Day 5)
- **작업 내용:**
  1. **백엔드 아키텍처 리팩토링**: `GEMINI.md` 기반으로 서비스/리포지토리 계층 도입, 예외 클래스 정의, 컨트롤러 슬림화, DI 적용 등 대규모 아키텍처 개선을 수행했습니다.
  2. **클라이언트 API 통신 및 오류 처리 개선**: `useFetch` 훅이 백엔드의 구조화된 `AppError`를 파싱하도록 개선하고, 서버 JSON 파일 경로 오류를 해결했습니다.
  3. **백엔드 유닛 테스트 및 Payment 도메인 분리**: Jest를 사용한 모든 리포지토리/서비스 단위 테스트를 작성하고, `Payment` 도메인을 독립적으로 분리했습니다.
  4. **디자인 패턴 도입**: `ReservationValidator`(검증 로직), `ReservationFactory`(객체 생성), `DiscountStrategy`(할인 정책), `Observer`(상태 변경 알림) 패턴을 적용했습니다.
  5. **프론트엔드/백엔드 데이터 일관성 확보**: `camelCase`/`snake_case` 불일치로 인한 타입스크립트/런타임 오류를 전면 해결하고 데이터베이스 권한 오류도 처리했습니다.
- **AI 활용:**
  1. 아키텍처 문제 분석, 리팩토링 계획/구현, 파일 생성 및 코드 수정 등 `GEMINI.md` 과제 해결의 전 과정에 걸쳐 주도적인 지원을 했습니다.
  2. `useFetch` 오류 처리 개선 코드 작성, 서버 JSON 경로 오류 진단 및 수정, Jest 테스트 코드 작성, 디자인 패턴 구현을 지원했습니다.
  3. 모든 컴파일/런타임 오류의 원인을 진단하고 해결 코드를 작성하며, 데이터베이스 권한 오류 해결 가이드를 제공했습니다.